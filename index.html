<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Gulp-requirejs-combine by microlv</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Gulp-requirejs-combine</h1>
      <h2 class="project-tagline">combine requirejs file into one file.</h2>
      <a href="https://github.com/microlv/gulp-requirejs-combine" class="btn">View on GitHub</a>
      <a href="https://github.com/microlv/gulp-requirejs-combine/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/microlv/gulp-requirejs-combine/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="gulp-requirejs-combine" class="anchor" href="#gulp-requirejs-combine" aria-hidden="true"><span class="octicon octicon-link"></span></a>gulp-requirejs-combine</h1>

<h1></h1>

<p>combine requirejs file into one file. purpose is reduce http request.</p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p>Install with <a href="https://npmjs.org/package/gulp-requirejs-combine">npm</a></p>

<pre><code>npm install --save-dev gulp-requirejs-combine
</code></pre>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>DEMO</h2>

<h3>
<a id="1find-out-your-config-in-requirejs" class="anchor" href="#1find-out-your-config-in-requirejs" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.find out your config in requirejs</h3>

<p>move config part into your gulpfile</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">require</span>.<span class="pl-en">config</span>({
  baseUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>js/lib<span class="pl-pds">'</span></span>,
  paths<span class="pl-k">:</span> {
    jquery<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>jquery-1.9.0<span class="pl-pds">'</span></span>,
    react<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>
  }
});</pre></div>

<h3>
<a id="2use-in-gulp" class="anchor" href="#2use-in-gulp" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.use in gulp</h3>

<p>more demo please see gulpfile</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> gulp <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> del <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>del<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> combine <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-requirejs-combine<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> config <span class="pl-k">=</span> {
  baseUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>js/lib<span class="pl-pds">'</span></span>,
  paths<span class="pl-k">:</span> {
    jquery<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>jquery-1.9.0<span class="pl-pds">'</span></span>,
    react<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>
  }
};

<span class="pl-k">var</span> paths <span class="pl-k">=</span> {
  js<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>demo/require.js<span class="pl-pds">'</span></span>]
};

<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>clean<span class="pl-pds">'</span></span>, <span class="pl-k">function</span> (<span class="pl-smi">cb</span>) {
    <span class="pl-en">del</span>([<span class="pl-s"><span class="pl-pds">'</span>build<span class="pl-pds">'</span></span>], cb);
});

<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>test:base<span class="pl-pds">'</span></span>, <span class="pl-k">function</span> () {
  <span class="pl-k">return</span> <span class="pl-smi">gulp</span>.<span class="pl-en">src</span>(<span class="pl-s"><span class="pl-pds">'</span>test/base/require.js<span class="pl-pds">'</span></span>)
    .<span class="pl-en">pipe</span>(<span class="pl-en">combine</span>({
      baseUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>./test/base<span class="pl-pds">'</span></span>,
      paths<span class="pl-k">:</span> {
        jsonp<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>jsonp<span class="pl-pds">'</span></span>,
        load<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>load<span class="pl-pds">'</span></span>,
        xhr<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>xhr<span class="pl-pds">'</span></span>,
        nonce<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>var/nonce<span class="pl-pds">'</span></span>,
        rquery<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>var/rquery<span class="pl-pds">'</span></span>
      }
    }))
    .<span class="pl-en">pipe</span>(<span class="pl-smi">gulp</span>.<span class="pl-en">dest</span>(<span class="pl-s"><span class="pl-pds">'</span>test/base/build<span class="pl-pds">'</span></span>));
});</pre></div>

<h3>
<a id="3becareful-about-config" class="anchor" href="#3becareful-about-config" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.becareful about config</h3>

<p>config is base on your gulpfile path. your need to config it base your gulpfile location.</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> config<span class="pl-k">=</span>{
  baseUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>./test/base<span class="pl-pds">'</span></span>,
  paths<span class="pl-k">:</span> {...
  }
}</pre></div>

<h2>
<a id="problem" class="anchor" href="#problem" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem</h2>

<p>you are welcome to contribute</p>

<p>and problem you can task issue or contact me :<a href="mailto:andy.lv@live.com">andy.lv@live.com</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/microlv/gulp-requirejs-combine">Gulp-requirejs-combine</a> is maintained by <a href="https://github.com/microlv">microlv</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
